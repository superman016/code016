
（一）使用文件输入输出流的应用程序 


1.   程序功能：将保存在本地机当前文件夹中的KY5_1.HTML（要保证D盘下有一个KY5_1.HTML文件） 文本文件的内容在屏幕上显示出来，然后将其另存为KY5_1.txt 文件。
2.   编写KY5_4.java 程序文件，源代码如下

import java.io.*;

public class KY5_4 {

public static void main(String[] args) throws IOException {

FileReader in=new FileReader("D:\\KY5_1.HTML");//建立文件输入流

BufferedReader bin=new BufferedReader(in);//建立缓冲输入流

FileWriter out=new FileWriter(" KY5_1.txt",true);//建立文件输出流

String str;

while ((str=bin.readLine())!=null) {

//将缓冲区内容通过循环方式逐行赋值给字符串str

System.out.println(str);//在屏幕上显示字符串str

out.write(str+"\n");//将字符串str 通过输出流写入KY5_1.txt 中

}

in.close();

out.close();

}

}

3.   编译、运行程序

（二）使用随机文件类的应用程序


使用文件输入类FileReader 只能将文件内容按顺序读入。如果要选择读入文件的位置及内容，可使用随机文件类RandomAccessFile。

1．     程序功能：建立数据流，通过指针有选择的读入文件内容。

编写KY10_3.java 程序文件，源代码如下。

 

import java.io.*;

 

class KY10_3 {

    public static void main(String args[]) {

        String str[] = { "First line\n", "Second line\n", "Last line\n" };

        try {

            RandomAccessFile rf = new RandomAccessFile("c:\\a.txt", "rw");

            System.out.println("\n 文件指针位置为：" + rf.getFilePointer());

            System.out.println("文件的长度为：" + rf.length());

            rf.seek(rf.length());

            System.out.println("文件指针现在的位置为：" + rf.getFilePointer());

            for (int i = 0; i < 3; i++)

                rf.writeUTF(str[i]); // 字符串转为字节串添加到文件末尾87

            rf.seek(0);

            System.out.println("\n 选择显示的文件内容：");

            String s;

            while (rf.getFilePointer()<rf.length()){//

                s = rf.readUTF();

                System.out.println(s);}

            rf.close();

        } catch (FileNotFoundException fnoe) {

        } catch (IOException ioe) {

        }

    }

}

2．  编译并运行程序

（三）使用数据输入输出流与文件输入输出流类的应用程序


使用数据输入流DataOutputStream 和数据输出流DataInputStream 可以读取或写入任何Java 类型的数据，不用关心它们的实际长度是多少字节。一般与文件输入流FileInputStream 和输出流类FileOutputStream 一起使用，实际RandomAccessFile就是同时具备DataOutputStream和DataInputStream的功能。

1．     程序功能：将整型数据和字符串对象通过数据输出流写到文件中。将文件中的整型数据和字符串对象通过数据输出流读出，并在屏幕上显示文件中的内容。

2．     编写KY10_4.java 程序文件，源代码如下。

 

import java.io.*;

 

 class KY10_4 {

    public static void main(String arg[]) {

        try { // 添加方式创建文件输出流

            FileOutputStream fout = new FileOutputStream("c:\\a.txt");

            DataOutputStream dout = new DataOutputStream(fout);

            dout.writeInt(1);

            dout.writeUTF("罗马" + "\n");

            dout.writeInt(2);

            dout.writeUTF("北京" + "\n");

            dout.close();

        } catch (IOException ioe) {

        }

        try {

            FileInputStream fin = new FileInputStream("KY5_6.txt");

            DataInputStream din = new DataInputStream(fin);

            int i=0;

            while (true) // 输入流结束时，继续读取，抛出EOFException，后面捕捉了该异常

            {

                i = din.readInt();

                System.out.print(i + " ");

                String ch=null;

                ch=din.readUTF();

                System.out.println(ch);

                

            }

            

        } catch(EOFException e){

            

        }

        catch (IOException ioe) {

        }

    }

}

5.3.4编程题

1.    将用户从键盘输入的10行字符串存入文件，然后输出文件长度。（提示，用BufferedWriter或RandomAccessFile类写出）

b)   2：将用户输入的10个整数存入文件，然后输出文件长度。（提示，用DataOutputStream类或RandomAccessFile类写出）

3. 写程序判断D盘根目录下a.txt文件是否存在，如果存在则向其内依次写入字符串 “Will Smith”，整数25，写入后再从文件中将其读出。（利用RandomAccessFile类或DataOutputStream，DataInputStream）
