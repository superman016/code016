{
    "display_id": "sai_6_5",
    "title": "\u642d\u79ef\u6728",
    "description": {
        "format": "html",
        "value": "<p><span style=\"color: rgb(77, 77, 77);\">\u5c0f\u660e\u5bf9\u642d\u79ef\u6728\u975e\u5e38\u611f\u5174\u8da3\u3002\u4ed6\u7684\u79ef\u6728\u90fd\u662f\u540c\u6837\u5927\u5c0f\u7684\u6b63\u7acb\u65b9\u4f53\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u5728\u642d\u79ef\u6728\u65f6\uff0c\u5c0f\u660e\u9009\u53d6\u00a0m\u00a0\u5757\u79ef\u6728\u4f5c\u4e3a\u5730\u57fa\uff0c\u5c06\u4ed6\u4eec\u5728\u684c\u5b50\u4e0a\u4e00\u5b57\u6392\u5f00\uff0c\u4e2d\u95f4\u4e0d\u7559\u7a7a\u9699\uff0c\u5e76\u79f0\u5176\u4e3a\u7b2c0\u5c42\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u968f\u540e\uff0c\u5c0f\u660e\u53ef\u4ee5\u5728\u4e0a\u9762\u6446\u653e\u7b2c1\u5c42\uff0c\u7b2c2\u5c42\uff0c\u2026\u2026\uff0c\u6700\u591a\u6446\u653e\u81f3\u7b2cn\u5c42\u3002\u6446\u653e\u79ef\u6728\u5fc5\u987b\u9075\u5faa\u4e09\u6761\u89c4\u5219\uff1a</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u89c4\u52191\uff1a\u6bcf\u5757\u79ef\u6728\u5fc5\u987b\u7d27\u6328\u7740\u653e\u7f6e\u5728\u67d0\u4e00\u5757\u79ef\u6728\u7684\u6b63\u4e0a\u65b9\uff0c\u4e0e\u5176\u4e0b\u4e00\u5c42\u7684\u79ef\u6728\u5bf9\u9f50\uff1b</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u89c4\u52192\uff1a\u540c\u4e00\u5c42\u4e2d\u7684\u79ef\u6728\u5fc5\u987b\u8fde\u7eed\u6446\u653e\uff0c\u4e2d\u95f4\u4e0d\u80fd\u7559\u6709\u7a7a\u9699\uff1b</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u89c4\u52193\uff1a\u5c0f\u660e\u4e0d\u559c\u6b22\u7684\u4f4d\u7f6e\u4e0d\u80fd\u653e\u7f6e\u79ef\u6728\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u5176\u4e2d\uff0c\u5c0f\u660e\u4e0d\u559c\u6b22\u7684\u4f4d\u7f6e\u90fd\u88ab\u6807\u5728\u4e86\u56fe\u7eb8\u4e0a\u3002\u56fe\u7eb8\u5171\u6709n\u884c\uff0c\u4ece\u4e0b\u81f3\u4e0a\u7684\u6bcf\u4e00\u884c\u5206\u522b\u5bf9\u5e94\u79ef\u6728\u7684\u7b2c1\u5c42\u81f3\u7b2cn\u5c42\u3002\u6bcf\u4e00\u884c\u90fd\u6709m\u4e2a\u5b57\u7b26\uff0c\u5b57\u7b26\u53ef\u80fd\u662f\u2018.\u2019\u6216\u2018X\u2019\uff0c\u5176\u4e2d\u2018X\u2019\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u5c0f\u660e\u4e0d\u559c\u6b22\u7684\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u73b0\u5728\uff0c\u5c0f\u660e\u60f3\u8981\u77e5\u9053\uff0c\u5171\u6709\u591a\u5c11\u79cd\u653e\u7f6e\u79ef\u6728\u7684\u65b9\u6848\u3002\u4ed6\u627e\u5230\u4e86\u53c2\u52a0\u84dd\u6865\u676f\u7684\u4f60\u6765\u5e2e\u4ed6\u8ba1\u7b97\u8fd9\u4e2a\u7b54\u6848\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u7531\u4e8e\u8fd9\u4e2a\u7b54\u6848\u53ef\u80fd\u5f88\u5927\uff0c\u4f60\u53ea\u9700\u8981\u56de\u7b54\u8fd9\u4e2a\u7b54\u6848\u5bf91000000007(\u5341\u4ebf\u96f6\u4e03)\u53d6\u6a21\u540e\u7684\u7ed3\u679c\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u6ce8\u610f\uff1a\u5730\u57fa\u4e0a\u4ec0\u4e48\u90fd\u4e0d\u653e\uff0c\u4e5f\u7b97\u4f5c\u662f\u65b9\u6848\u4e4b\u4e00\u79cd\u3002</span></p>"
    },
    "tags": [
        "2018\u84dd\u6865\u676f\u56fd\u8d5b"
    ],
    "input_description": {
        "format": "html",
        "value": "<p><span style=\"color: rgb(77, 77, 77);\">\u8f93\u5165\u6570\u636e\u7684\u7b2c\u4e00\u884c\u6709\u4e24\u4e2a\u6b63\u6574\u6570n\u548cm\uff0c\u8868\u793a\u56fe\u7eb8\u7684\u5927\u5c0f\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u968f\u540en\u884c\uff0c\u6bcf\u884c\u6709m\u4e2a\u5b57\u7b26\uff0c\u7528\u6765\u63cf\u8ff0\u56fe\u7eb8\u00a0\u3002\u6bcf\u4e2a\u5b57\u7b26\u53ea\u53ef\u80fd\u662f\u2018.\u2019\u6216\u2018X\u2019\u3002</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u5bf9\u4e8e10%\u7684\u6570\u636e\uff0cn=1\uff0cm&lt;=30\uff1b</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u5bf9\u4e8e40%\u7684\u6570\u636e\uff0cn&lt;=10\uff0cm&lt;=30\uff1b</span></p><p><span style=\"color: rgb(77, 77, 77);\">\u5bf9\u4e8e100%\u7684\u6570\u636e\uff0cn&lt;=100\uff0cm&lt;=100\u3002</span></p>"
    },
    "output_description": {
        "format": "html",
        "value": "<p><span style=\"color: rgb(77, 77, 77);\">\u8f93\u51fa\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u7b54\u6848\u5bf91000000007\u53d6\u6a21\u540e\u7684\u7ed3\u679c\u3002</span><br /></p>"
    },
    "test_case_score": [
        {
            "score": 8,
            "input_name": "1.in",
            "output_name": "1.out"
        },
        {
            "score": 12,
            "input_name": "2.in",
            "output_name": "2.out"
        },
        {
            "score": 12,
            "input_name": "3.in",
            "output_name": "3.out"
        },
        {
            "score": 14,
            "input_name": "4.in",
            "output_name": "4.out"
        },
        {
            "score": 17,
            "input_name": "5.in",
            "output_name": "5.out"
        },
        {
            "score": 14,
            "input_name": "6.in",
            "output_name": "6.out"
        }
    ],
    "hint": {
        "format": "html",
        "value": "<p>\u6837\u4f8b1\u89e3\u91ca\uff1a</p><p><span style=\"color: rgb(77, 77, 77);\">\u6210\u529f\u7684\u6446\u653e\u6709\uff08\u5176\u4e2dO\u8868\u793a\u653e\u7f6e\u79ef\u6728\uff09\uff1a</span></p><p><span style=\"color: rgb(77, 77, 77);\">(1)</span></p><p><span style=\"color: rgb(77, 77, 77);\">..X</span></p><p><span style=\"color: rgb(77, 77, 77);\">.X.</span></p><p><span style=\"color: rgb(77, 77, 77);\">(2)</span></p><p><span style=\"color: rgb(77, 77, 77);\">..X</span></p><p><span style=\"color: rgb(77, 77, 77);\">OX.</span></p><p><span style=\"color: rgb(77, 77, 77);\">(3)</span></p><p><span style=\"color: rgb(77, 77, 77);\">O.X</span></p><p><span style=\"color: rgb(77, 77, 77);\">OX.</span></p><p><span style=\"color: rgb(77, 77, 77);\">(4)</span></p><p><span style=\"color: rgb(77, 77, 77);\">..X</span></p><p><span style=\"color: rgb(77, 77, 77);\">.XO</span></p>"
    },
    "time_limit": 1000,
    "memory_limit": 256,
    "samples": [
        {
            "input": "2 3\n..X\n.X.\n",
            "output": "4\n"
        },
        {
            "input": "3 3\n..X\n.X.\n...\n",
            "output": "16\n"
        }
    ],
    "template": {},
    "spj": null,
    "rule_type": "OI",
    "source": "2018\u5e74\u7b2c\u4e5d\u5c4a\u84dd\u6865\u676fc/c++B\u7ec4\u56fd\u8d5b\u51b3\u8d5b\u771f\u9898\u9898\u76ee",
    "answers": [
        {
            "language": "C++",
            "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MAXN 105\n#define mod 1000000007\nint n, m, check[MAXN][MAXN];\nlong long ans = 1, dp[MAXN][MAXN];\nint main(){\n\tchar ch;\n\tcin>>n>>m;\n\tfor(int i = 1; i <= n; ++i)\n\t\tfor(int j = 1; j <= m; ++j){\n\t\t\tcin>>ch;\n\t\t\tcheck[i][j] = check[i][j - 1];\n\t\t\tif(ch == 'X') ++check[i][j];\n\t\t}\n\tfor(int i = 1; i <= m; ++i){\n\t\tfor(int j = m; j >= i; --j){\n\t\t\tif(check[n][j] - check[n][i - 1] == 0){ //\u7b49\u4e8e0\u8bf4\u660e\u4e2d\u95f4\u6ca1\u6709X \n\t\t\t\t++ans;\n\t\t\t\tdp[i][j] = 1 + dp[i - 1][j] + dp[i][j + 1] - dp[i - 1][j + 1]; \n\t\t\t}\n\t\t}\n\t}\n\tfor(int t = n - 1; t >= 1; --t)\n\t\tfor(int i = 1; i <= m; ++i)\n\t\t\tfor(int j = m; j >= i; --j){\n\t\t\t\tif(check[t][j] - check[t][i - 1] == 0){ //\u7b49\u4e8e0\u8bf4\u660e\u4e2d\u95f4\u6ca1\u6709X \n\t\t\t\t\tans= (ans + dp[i][j]) % mod;\n\t\t\t\t\tdp[i][j] += (dp[i - 1][j] + dp[i][j + 1] - dp[i - 1][j + 1]) % mod; \n\t\t\t\t}else dp[i][j] = 0;\n\t\t\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}"
        }
    ]
}